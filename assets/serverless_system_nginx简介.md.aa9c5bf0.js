import{_ as s,o as n,c as a,X as l}from"./chunks/framework.28451963.js";const d=JSON.parse('{"title":"Nginx服务器","description":"","frontmatter":{},"headers":[],"relativePath":"serverless/system/nginx简介.md","filePath":"serverless/system/nginx简介.md","lastUpdated":1704191114000}'),e={name:"serverless/system/nginx简介.md"},o=l(`<h1 id="nginx服务器" tabindex="-1">Nginx服务器 <a class="header-anchor" href="#nginx服务器" aria-label="Permalink to &quot;Nginx服务器&quot;">​</a></h1><h2 id="_1、简介" tabindex="-1">1、简介 <a class="header-anchor" href="#_1、简介" aria-label="Permalink to &quot;1、简介&quot;">​</a></h2><p><code>Nginx</code>是一款免费的开源软件，是一个<code>高性能</code>的<code>HTTP</code>和<code>反向代理</code>Web服务器。它可以作为一个HTTP服务器进行网站的发布处理，另外Nginx可以作为<code>反向代理</code>进行<code>负载均衡</code>的实现。</p><p>Nginx使用基于<code>事件驱动</code>架构，使得其可以支持数以<code>百万级别</code>的TCP连接。高度的模块化和自由软件许可证使得第三方模块层出不穷(开源)。</p><h2 id="_2、官网" tabindex="-1">2、官网 <a class="header-anchor" href="#_2、官网" aria-label="Permalink to &quot;2、官网&quot;">​</a></h2><p><a href="http://nginx.org/" target="_blank" rel="noreferrer">http://nginx.org/</a></p><h2 id="_3、下载nginx" tabindex="-1">3、下载nginx <a class="header-anchor" href="#_3、下载nginx" aria-label="Permalink to &quot;3、下载nginx&quot;">​</a></h2><p>下载地址：<a href="http://nginx.org/en/download.html" target="_blank" rel="noreferrer">http://nginx.org/en/download.html</a></p><p>查看历史版本： <a href="http://nginx.org/download/" target="_blank" rel="noreferrer">http://nginx.org/download/</a></p><h2 id="_4、yum方式安装nginx" tabindex="-1">4、yum方式安装Nginx <a class="header-anchor" href="#_4、yum方式安装nginx" aria-label="Permalink to &quot;4、yum方式安装Nginx&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">官网安装教程</p><p>安装教程地址: <a href="http://nginx.org/en/linux_packages.html#instructions" target="_blank" rel="noreferrer">http://nginx.org/en/linux_packages.html#instructions</a></p></div><h3 id="_4-1、安装工具集" tabindex="-1">4.1、安装工具集 <a class="header-anchor" href="#_4-1、安装工具集" aria-label="Permalink to &quot;4.1、安装工具集&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 升级所有包同时也升级软件和系统内核</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装yum依赖</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum-utils</span></span></code></pre></div><h3 id="_4-2、添加yum源文件" tabindex="-1">4.2、添加yum源文件 <a class="header-anchor" href="#_4-2、添加yum源文件" aria-label="Permalink to &quot;4.2、添加yum源文件&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/yum.repos.d/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 添加nginx的yum源码</span></span>
<span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx.repo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或 直接新建 nginx.repo 文件</span></span>
<span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/yum.repos.d/nginx.repo</span></span></code></pre></div><h3 id="_4-3、配置信息到nginx-repo文件中" tabindex="-1">4.3、配置信息到nginx.repo文件中 <a class="header-anchor" href="#_4-3、配置信息到nginx-repo文件中" aria-label="Permalink to &quot;4.3、配置信息到nginx.repo文件中&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">nginx-stable</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">stable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">repo</span></span>
<span class="line"><span style="color:#A6ACCD;">baseurl</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://nginx.org/packages/centos/</span><span style="color:#A6ACCD;">$releasever</span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">$basearch</span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">gpgcheck</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">enabled</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">gpgkey</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://nginx.org/keys/nginx_signing.key</span></span>
<span class="line"><span style="color:#A6ACCD;">module_hotfixes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">nginx-mainline</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mainline</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">repo</span></span>
<span class="line"><span style="color:#A6ACCD;">baseurl</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://nginx.org/packages/mainline/centos/</span><span style="color:#A6ACCD;">$releasever</span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">$basearch</span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">gpgcheck</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">enabled</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">gpgkey</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://nginx.org/keys/nginx_signing.key</span></span>
<span class="line"><span style="color:#A6ACCD;">module_hotfixes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">true</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">阿里云服务器</p><ul><li>如果使用阿里云服务器上面三个步骤，可以省略上面3个步骤</li><li>如果发现无法安装最新版本的Nginx，可以配置上面步骤</li></ul></div><h3 id="_4-4、安装nginx" tabindex="-1">4.4、安装nginx <a class="header-anchor" href="#_4-4、安装nginx" aria-label="Permalink to &quot;4.4、安装nginx&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y表示不显示安装步骤</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h3 id="_4-5、查看nginx版本" tabindex="-1">4.5、查看nginx版本 <a class="header-anchor" href="#_4-5、查看nginx版本" aria-label="Permalink to &quot;4.5、查看nginx版本&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span></code></pre></div><h3 id="_4-6、查ngin包" tabindex="-1">4.6、查ngin包 <a class="header-anchor" href="#_4-6、查ngin包" aria-label="Permalink to &quot;4.6、查ngin包&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h3 id="_4-7、查nginx安装相关的文件位置信息" tabindex="-1">4.7、查nginx安装相关的文件位置信息 <a class="header-anchor" href="#_4-7、查nginx安装相关的文件位置信息" aria-label="Permalink to &quot;4.7、查nginx安装相关的文件位置信息&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">whereis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h2 id="nginx目录结构" tabindex="-1">nginx目录结构 <a class="header-anchor" href="#nginx目录结构" aria-label="Permalink to &quot;nginx目录结构&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Nginx终端管理理命令</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/sbin/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动 Nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/sbin/nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Nginx 配置</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/nginx/nginx.conf</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/nginx/conf.d</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/nginx/conf.d/default.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Nginx模块⽬录</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/lib64/nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 默认站点目录</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/share/nginx</span></span></code></pre></div><h2 id="nginx常用命令" tabindex="-1">nginx常用命令 <a class="header-anchor" href="#nginx常用命令" aria-label="Permalink to &quot;nginx常用命令&quot;">​</a></h2><h3 id="_6-1、启动nginx" tabindex="-1">6.1、启动nginx <a class="header-anchor" href="#_6-1、启动nginx" aria-label="Permalink to &quot;6.1、启动nginx&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/sbin/</span></span>
<span class="line"><span style="color:#FFCB6B;">./nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">或</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/sbin/nginx</span></span></code></pre></div><h3 id="_6-2、查看nginx进程" tabindex="-1">6.2、查看nginx进程 <a class="header-anchor" href="#_6-2、查看nginx进程" aria-label="Permalink to &quot;6.2、查看nginx进程&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-ef</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h3 id="_6-3、查看nginx的进程-id" tabindex="-1">6.3、查看nginx的进程 id <a class="header-anchor" href="#_6-3、查看nginx的进程-id" aria-label="Permalink to &quot;6.3、查看nginx的进程 id&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pid</span></span></code></pre></div><h3 id="_6-4、检查nginx配置文件正确性" tabindex="-1">6.4、检查nginx配置文件正确性 <a class="header-anchor" href="#_6-4、检查nginx配置文件正确性" aria-label="Permalink to &quot;6.4、检查nginx配置文件正确性&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span></span></code></pre></div><h3 id="_6-5、停止nginx" tabindex="-1">6.5、停止nginx <a class="header-anchor" href="#_6-5、停止nginx" aria-label="Permalink to &quot;6.5、停止nginx&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 快速停止或关闭Nginx服务</span></span>
<span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看 nginx 的运行进程</span></span>
<span class="line"><span style="color:#FFCB6B;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-ef</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 方式一：直接停止或关闭 nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 再次查看 nginx 的运行进程</span></span>
<span class="line"><span style="color:#FFCB6B;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-ef</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h3 id="_6-6、重启nginx" tabindex="-1">6.6、重启nginx <a class="header-anchor" href="#_6-6、重启nginx" aria-label="Permalink to &quot;6.6、重启nginx&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 修改配置文件后重新加载生效</span></span>
<span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reload</span></span></code></pre></div><h3 id="_6-7、完整有序的停止nginx" tabindex="-1">6.7、完整有序的停止Nginx <a class="header-anchor" href="#_6-7、完整有序的停止nginx" aria-label="Permalink to &quot;6.7、完整有序的停止Nginx&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">quit</span></span></code></pre></div><h3 id="_6-8、查看nginx日志" tabindex="-1">6.8、查看nginx日志 <a class="header-anchor" href="#_6-8、查看nginx日志" aria-label="Permalink to &quot;6.8、查看nginx日志&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">tail</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/nginx/error.log</span></span></code></pre></div><h3 id="_6-9、查看nginx运行路径" tabindex="-1">6.9、查看nginx运行路径 <a class="header-anchor" href="#_6-9、查看nginx运行路径" aria-label="Permalink to &quot;6.9、查看nginx运行路径&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 查询运行文件所在路径</span></span>
<span class="line"><span style="color:#82AAFF;">which</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h2 id="_7、卸载-nginx" tabindex="-1">7、卸载 nginx <a class="header-anchor" href="#_7、卸载-nginx" aria-label="Permalink to &quot;7、卸载 nginx&quot;">​</a></h2><h3 id="_7-1、查找所有名字包含nginx的文件" tabindex="-1">7.1、查找所有名字包含nginx的文件 <a class="header-anchor" href="#_7-1、查找所有名字包含nginx的文件" aria-label="Permalink to &quot;7.1、查找所有名字包含nginx的文件&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">find</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h3 id="_7-2、删除所有名字包含nginx的文件" tabindex="-1">7.2、删除所有名字包含nginx的文件 <a class="header-anchor" href="#_7-2、删除所有名字包含nginx的文件" aria-label="Permalink to &quot;7.2、删除所有名字包含nginx的文件&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">文件路径</span><span style="color:#A6ACCD;">*</span></span></code></pre></div><h3 id="_7-3、使用yum清理相关依赖和软件包" tabindex="-1">7.3、使用yum清理相关依赖和软件包 <a class="header-anchor" href="#_7-3、使用yum清理相关依赖和软件包" aria-label="Permalink to &quot;7.3、使用yum清理相关依赖和软件包&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span></code></pre></div><h2 id="_8、nginx-简单部署" tabindex="-1">8、nginx 简单部署 <a class="header-anchor" href="#_8、nginx-简单部署" aria-label="Permalink to &quot;8、nginx 简单部署&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><ul><li>nginx的默认站点静态文件目录 <code>/usr/share/nginx/html</code> 将自己的项目文件上传上来即可完成基础的测试部署</li><li>如果修改了配置文件，需要重新启动nginx<code>nginx -s reload</code></li></ul></div>`,56),p=[o];function t(i,c,r,y,C,g){return n(),a("div",null,p)}const x=s(e,[["render",t]]);export{d as __pageData,x as default};
