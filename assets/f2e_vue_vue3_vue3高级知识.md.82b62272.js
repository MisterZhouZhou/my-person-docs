import{d as H,aa as r,h as j,ab as J,o as y,c as D,k as l,a6 as d,a as p,t as u,a2 as V,O as c,w as F,l as Q,L as Z,M as aa,X as f,j as sa,p as ea,m as na,$ as ta,_ as la}from"./chunks/framework.28451963.js";const T="/assets/logo.03d6d6da.png",fa=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),pa=H({name:"MyComponent",data(){return{message:"Hello, world!"}},render(){return r("div",[r("h1",this.message),r("button",{style:{color:"red",border:"1px solid skyblue",padding:"5px 20px"},onClick:()=>{alert("---"),this.message="Hello, world!!!!"}},"Click me")])}});function L(v,{attrs:E,slots:g}){return r(`h${v.level}`,{...E,onClick:()=>{console.log("click")}},g)}L.props={level:{type:String,default:"1"}};const C=L,b=v=>(ea("data-v-e8439ff8"),v=v(),na(),v),oa=f(`<h1 id="vue3高级知识" tabindex="-1" data-v-e8439ff8>Vue3高级知识 <a class="header-anchor" href="#vue3高级知识" aria-label="Permalink to &quot;Vue3高级知识&quot;" data-v-e8439ff8>​</a></h1><h2 id="_1、api变更" tabindex="-1" data-v-e8439ff8>1、API变更 <a class="header-anchor" href="#_1、api变更" aria-label="Permalink to &quot;1、API变更&quot;" data-v-e8439ff8>​</a></h2><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>Vue3 的全局 API 已经发生了变化。</p><ul data-v-e8439ff8><li data-v-e8439ff8>Vue2没有<code data-v-e8439ff8>app</code>的概念，我们定义的应用只是通过<code data-v-e8439ff8>new Vue()</code>创建的根 Vue 实例, Vue3需要通过<code data-v-e8439ff8>createApp()</code>方法来创建一个应用实例,也就是根实例</li><li data-v-e8439ff8>Vue3 中移除了<code data-v-e8439ff8>Vue.component</code>使用<code data-v-e8439ff8>app.component</code>来注册全局组件</li><li data-v-e8439ff8>Vue3 中移除了<code data-v-e8439ff8>Vue.use</code>使用<code data-v-e8439ff8>app.use</code>来注册全局插件</li><li data-v-e8439ff8>Vue3 中移除了<code data-v-e8439ff8>Vue.directive</code>使用<code data-v-e8439ff8>app.directive</code>来注册全局指令</li><li data-v-e8439ff8>Vue3 中移除了<code data-v-e8439ff8>Vue.filter</code>使用<code data-v-e8439ff8>app.config.globalProperties</code>来代理使用</li></ul></div><h3 id="_1-1、创建根实例" tabindex="-1" data-v-e8439ff8>1.1、创建根实例 <a class="header-anchor" href="#_1-1、创建根实例" aria-label="Permalink to &quot;1.1、创建根实例&quot;" data-v-e8439ff8>​</a></h3><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>createApp</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> app </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createApp</span><span style="color:#A6ACCD;" data-v-e8439ff8>(App)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>mount</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>#app</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span></code></pre></div><h3 id="_1-2、注册全局组件" tabindex="-1" data-v-e8439ff8>1.2、注册全局组件 <a class="header-anchor" href="#_1-2、注册全局组件" aria-label="Permalink to &quot;1.2、注册全局组件&quot;" data-v-e8439ff8>​</a></h3><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>createApp</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> MyComponent </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>./MyComponent.vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> app </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createApp</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>component</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>my-component</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> MyComponent)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>mount</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>#app</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span></code></pre></div><h3 id="_1-3、注册全局插件" tabindex="-1" data-v-e8439ff8>1.3、注册全局插件 <a class="header-anchor" href="#_1-3、注册全局插件" aria-label="Permalink to &quot;1.3、注册全局插件&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import { createApp } from &#39;vue&#39;;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>createApp(App)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  .use(store)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  .use(router)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  .mount(&#39;#app&#39;)</span></span></code></pre></div><h3 id="_1-4、注册指令" tabindex="-1" data-v-e8439ff8>1.4、注册指令 <a class="header-anchor" href="#_1-4、注册指令" aria-label="Permalink to &quot;1.4、注册指令&quot;" data-v-e8439ff8>​</a></h3><h4 id="_1-4-1、指令钩子" tabindex="-1" data-v-e8439ff8>1.4.1、指令钩子 <a class="header-anchor" href="#_1-4-1、指令钩子" aria-label="Permalink to &quot;1.4.1、指令钩子&quot;" data-v-e8439ff8>​</a></h4><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> myDirective </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 在绑定元素的 attribute 前</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 或事件监听器应用前调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>created</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>binding</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>vnode</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>prevVnode</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 下面会介绍各个参数的细节</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 在元素被插入到 DOM 前调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>beforeMount</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 在绑定元素的父组件</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 及他自己的所有子节点都挂载完成后调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>mounted</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 绑定元素的父组件更新前调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>beforeUpdate</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 在绑定元素的父组件</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 及他自己的所有子节点都更新后调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>updated</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 绑定元素的父组件卸载前调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>beforeUnmount</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 绑定元素的父组件卸载后调用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>unmounted</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span></code></pre></div><h4 id="_1-4-2、钩子参数" tabindex="-1" data-v-e8439ff8>1.4.2、钩子参数 <a class="header-anchor" href="#_1-4-2、钩子参数" aria-label="Permalink to &quot;1.4.2、钩子参数&quot;" data-v-e8439ff8>​</a></h4><p data-v-e8439ff8>指令的钩子会传递以下几种参数：</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> el：指令绑定到的元素。这可以用于直接操作 DOM。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> binding：一个对象，包含以下 property：</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> value：传递给指令的值。例如在 v</span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8>my</span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8>directive</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8>“</span><span style="color:#F78C6C;" data-v-e8439ff8>1</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>1</span><span style="color:#A6ACCD;" data-v-e8439ff8>” 中，值是 </span><span style="color:#F78C6C;" data-v-e8439ff8>2</span><span style="color:#A6ACCD;" data-v-e8439ff8>。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> oldValue：之前的值，仅在 beforeUpdate 和 updated 中可用。无论值是否更改，它都可用。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> arg：</span><span style="color:#82AAFF;" data-v-e8439ff8>传递给指令的参数</span><span style="color:#A6ACCD;" data-v-e8439ff8> (如果有的话)。例如在 v</span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8>my</span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#FFCB6B;" data-v-e8439ff8>directive</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8>foo 中，参数是 “foo”。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> modifiers：</span><span style="color:#82AAFF;" data-v-e8439ff8>一个包含修饰符的对象</span><span style="color:#A6ACCD;" data-v-e8439ff8> (如果有的话)。例如在 v</span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8>my</span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8>directive</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>foo</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>bar 中，修饰符对象是 </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>foo</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FF9CAC;" data-v-e8439ff8>true</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>bar</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FF9CAC;" data-v-e8439ff8>true</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> instance：使用该指令的组件实例。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> dir：指令的定义对象。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> vnode：代表绑定元素的底层 VNode。</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8> prevNode：之前的渲染中代表指令所绑定元素的 VNode。仅在 beforeUpdate 和 updated 钩子中可用。</span></span></code></pre></div><h4 id="_1-4-3、全局指令" tabindex="-1" data-v-e8439ff8>1.4.3、全局指令 <a class="header-anchor" href="#_1-4-3、全局指令" aria-label="Permalink to &quot;1.4.3、全局指令&quot;" data-v-e8439ff8>​</a></h4><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> app </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createApp</span><span style="color:#A6ACCD;" data-v-e8439ff8>(App)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>directive</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>bg</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> 	</span><span style="color:#82AAFF;" data-v-e8439ff8>mounted</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> el</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>backgroundColor </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>blue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span></code></pre></div><h4 id="_1-4-4、局部指令-非setup语法糖" tabindex="-1" data-v-e8439ff8>1.4.4、局部指令(非setup语法糖) <a class="header-anchor" href="#_1-4-4、局部指令-非setup语法糖" aria-label="Permalink to &quot;1.4.4、局部指令(非setup语法糖)&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &lt;input type=&quot;text&quot; v-bg1&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>export default </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// name: &#39;MyComponent&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  directives: </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#F07178;" data-v-e8439ff8>bg1</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#F07178;" data-v-e8439ff8>mounted</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#FFCB6B;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#FFCB6B;" data-v-e8439ff8>backgroundColor</span><span style="color:#A6ACCD;" data-v-e8439ff8> = &#39;blue&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>setup</span><span style="color:#A6ACCD;" data-v-e8439ff8>() </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,21),da={type:"text"},ca=f(`<h4 id="_1-4-5、局部指令-setup语法糖" tabindex="-1" data-v-e8439ff8>1.4.5、局部指令(setup语法糖) <a class="header-anchor" href="#_1-4-5、局部指令-setup语法糖" aria-label="Permalink to &quot;1.4.5、局部指令(setup语法糖)&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &lt;input type=&quot;text&quot; v-bg&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> ref </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> from &#39;vue&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vBg = </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>mounted</span><span style="color:#A6ACCD;" data-v-e8439ff8>(el) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    el.style.backgroundColor </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>ts版本</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>Dialog</span><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>v-move-directive</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>{background:&#39;green&#39;,flag:show}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>Dialog</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vMoveDirective: Directive = {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  created: () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;初始化====&gt;&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  beforeMount(...args: Array</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>any</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    // 在元素上做些操作</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;初始化一次=======&gt;&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  mounted(el: any, dir: DirectiveBinding&lt;Value&gt;) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    el.style.background = dir.value.background;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;初始化========&gt;&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  beforeUpdate() {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;更新之前&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  updated() {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;更新结束&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  beforeUnmount(...args: Array&lt;any&gt;) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(args);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;======&gt;卸载之前&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  unmounted(...args: Array&lt;any&gt;) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(args);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    console.log(&quot;======&gt;卸载完成&quot;);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>};</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,6),va={type:"text"},ra=f(`<h4 id="_1-4-6、指令的参数和修饰符" tabindex="-1" data-v-e8439ff8>1.4.6、指令的参数和修饰符 <a class="header-anchor" href="#_1-4-6、指令的参数和修饰符" aria-label="Permalink to &quot;1.4.6、指令的参数和修饰符&quot;" data-v-e8439ff8>​</a></h4><p data-v-e8439ff8>示例1：</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-params</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>params</span><span style="color:#A6ACCD;" data-v-e8439ff8>.</span><span style="color:#C792EA;" data-v-e8439ff8>lazy</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#F78C6C;" data-v-e8439ff8>1</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>{{paramsStr}}</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> ref </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> from &#39;vue&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const paramsStr = ref(&#39;&#39;)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vParams = </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>mounted</span><span style="color:#A6ACCD;" data-v-e8439ff8>(el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> value</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> oldValue</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> arg</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> modifiers </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    paramsStr.value </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>\`</span><span style="color:#C3E88D;" data-v-e8439ff8>value:</span><span style="color:#89DDFF;" data-v-e8439ff8>\${</span><span style="color:#A6ACCD;" data-v-e8439ff8>value</span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#C3E88D;" data-v-e8439ff8> - oldValue:</span><span style="color:#89DDFF;" data-v-e8439ff8>\${</span><span style="color:#A6ACCD;" data-v-e8439ff8>oldValue</span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#C3E88D;" data-v-e8439ff8> - arg:</span><span style="color:#89DDFF;" data-v-e8439ff8>\${</span><span style="color:#A6ACCD;" data-v-e8439ff8>arg</span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#C3E88D;" data-v-e8439ff8> - modifiers:</span><span style="color:#89DDFF;" data-v-e8439ff8>\${</span><span style="color:#A6ACCD;" data-v-e8439ff8>JSON</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>stringify</span><span style="color:#A6ACCD;" data-v-e8439ff8>(modifiers)</span><span style="color:#89DDFF;" data-v-e8439ff8>}\`</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div>`,4),ya=f(`<p data-v-e8439ff8>示例2：</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-color</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>bgColor</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>yellow</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>this is a v-color directive</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vColor = </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>mounted</span><span style="color:#A6ACCD;" data-v-e8439ff8>(el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> value </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    el.style.backgroundColor </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> value</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>bgColor</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    el.style.color </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> value</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>color</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div>`,3),Da=f(`<h4 id="_1-4-7、函数简写" tabindex="-1" data-v-e8439ff8>1.4.7、函数简写 <a class="header-anchor" href="#_1-4-7、函数简写" aria-label="Permalink to &quot;1.4.7、函数简写&quot;" data-v-e8439ff8>​</a></h4><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>在<code data-v-e8439ff8>mounted</code>和<code data-v-e8439ff8>updated</code>时触发相同行为，而不关心其他的钩子函数</p></div><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>A</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-move</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>{ background: value }</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>A</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>   </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>ref</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>Directive</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>DirectiveBinding</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#A6ACCD;" data-v-e8439ff8> value </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>ref</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>string</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>type</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>Dir</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>   </span><span style="color:#F07178;" data-v-e8439ff8>background</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>string</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> vMove</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>Directive</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>binding</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>DirectiveBinding</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>Dir</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>   </span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>background</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>binding</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>value</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>background</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><h3 id="_1-5、注册过滤器" tabindex="-1" data-v-e8439ff8>1.5、注册过滤器 <a class="header-anchor" href="#_1-5、注册过滤器" aria-label="Permalink to &quot;1.5、注册过滤器&quot;" data-v-e8439ff8>​</a></h3><h4 id="_1-5-1、全局过滤器" tabindex="-1" data-v-e8439ff8>1.5.1、全局过滤器 <a class="header-anchor" href="#_1-5-1、全局过滤器" aria-label="Permalink to &quot;1.5.1、全局过滤器&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>￥{{$filters.numFormat(111)}}</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> app </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createApp</span><span style="color:#A6ACCD;" data-v-e8439ff8>(App)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>config</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>globalProperties</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>$filters</span><span style="color:#89DDFF;" data-v-e8439ff8>={</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>numFormat</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>value</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>value</span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>元</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span></code></pre></div><h4 id="_1-5-2、局部过滤器" tabindex="-1" data-v-e8439ff8>1.5.2、局部过滤器 <a class="header-anchor" href="#_1-5-2、局部过滤器" aria-label="Permalink to &quot;1.5.2、局部过滤器&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>span</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>{{ filters(&#39;hello&#39;) }}</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>span</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,11),Fa=f(`<h3 id="_1-6、按键修饰符" tabindex="-1" data-v-e8439ff8>1.6、按键修饰符 <a class="header-anchor" href="#_1-6、按键修饰符" aria-label="Permalink to &quot;1.6、按键修饰符&quot;" data-v-e8439ff8>​</a></h3><p data-v-e8439ff8>Vue3 内置了许多键码别名，你可以使用这些键码别名代替真实的键码值。下面是常用的键码别名列表：</p><ul data-v-e8439ff8><li data-v-e8439ff8>.enter: 回车键</li><li data-v-e8439ff8>.tab: Tab键</li><li data-v-e8439ff8>.delete (捕获“删除”和“退格”键)</li><li data-v-e8439ff8>.esc: Esc</li><li data-v-e8439ff8>.space: 空格</li><li data-v-e8439ff8>.up: 上键</li><li data-v-e8439ff8>.down: 下键</li><li data-v-e8439ff8>.left: 左键</li><li data-v-e8439ff8>.right: 右键</li><li data-v-e8439ff8>.ctrl: Ctrl</li><li data-v-e8439ff8>.alt: Alt</li><li data-v-e8439ff8>.shift: Shift</li><li data-v-e8439ff8>.meta (Windows 键和 Command 键)</li></ul><div class="warning custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>WARNING</p><p data-v-e8439ff8>Vue3不在支持<code data-v-e8439ff8>keyCode</code>需要使用对应的alias</p></div><h4 id="_1-6-1、单个修饰符" tabindex="-1" data-v-e8439ff8>1.6.1、单个修饰符 <a class="header-anchor" href="#_1-6-1、单个修饰符" aria-label="Permalink to &quot;1.6.1、单个修饰符&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>input</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>type</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-on</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>keyup</span><span style="color:#A6ACCD;" data-v-e8439ff8>.</span><span style="color:#C792EA;" data-v-e8439ff8>enter</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8>enterAction</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>border</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1px solid skyblue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>/&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>或者</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>input</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>type</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>@</span><span style="color:#C792EA;" data-v-e8439ff8>keyup</span><span style="color:#A6ACCD;" data-v-e8439ff8>.</span><span style="color:#C792EA;" data-v-e8439ff8>enter</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8>enterAction</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>border</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1px solid red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>/&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> enterAction </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>alert</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>keyup.enter</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span></code></pre></div>`,7),Ca=["onKeyup"],Aa=["onKeyup"],ia=f(`<h4 id="_1-6-2、多个修饰符" tabindex="-1" data-v-e8439ff8>1.6.2、多个修饰符 <a class="header-anchor" href="#_1-6-2、多个修饰符" aria-label="Permalink to &quot;1.6.2、多个修饰符&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>@</span><span style="color:#C792EA;" data-v-e8439ff8>keydown</span><span style="color:#A6ACCD;" data-v-e8439ff8>.ctrl.alt.</span><span style="color:#C792EA;" data-v-e8439ff8>space</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8>onSpace</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><h4 id="_1-6-3、自定义键ma按键修饰符" tabindex="-1" data-v-e8439ff8>1.6.3、自定义键ma按键修饰符 <a class="header-anchor" href="#_1-6-3、自定义键ma按键修饰符" aria-label="Permalink to &quot;1.6.3、自定义键ma按键修饰符&quot;" data-v-e8439ff8>​</a></h4><h3 id="_1-7、事件监听" tabindex="-1" data-v-e8439ff8>1.7、事件监听 <a class="header-anchor" href="#_1-7、事件监听" aria-label="Permalink to &quot;1.7、事件监听&quot;" data-v-e8439ff8>​</a></h3><div class="warning custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>WARNING</p><p data-v-e8439ff8>在Vue3中<code data-v-e8439ff8>$on</code>、<code data-v-e8439ff8>$off</code>、<code data-v-e8439ff8>$once</code>被移除，事件监听推荐使用三方库<code data-v-e8439ff8>mitt</code></p></div><p data-v-e8439ff8>安装</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>npm install mitt </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#A6ACCD;" data-v-e8439ff8>S</span></span></code></pre></div><p data-v-e8439ff8>使用</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> mitt </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>mitt</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> emitter </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>mitt</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>emitter</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>on</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>foo</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// emitter.emit(&#39;foo&#39;)</span></span></code></pre></div><p data-v-e8439ff8>跨组件交互</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> emitter </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>./compoennt</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>emitter</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>emit</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>foo</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span></code></pre></div><h2 id="_2、数据响应式" tabindex="-1" data-v-e8439ff8>2、数据响应式 <a class="header-anchor" href="#_2、数据响应式" aria-label="Permalink to &quot;2、数据响应式&quot;" data-v-e8439ff8>​</a></h2><h3 id="_2-1、ref" tabindex="-1" data-v-e8439ff8>2.1、ref <a class="header-anchor" href="#_2-1、ref" aria-label="Permalink to &quot;2.1、ref&quot;" data-v-e8439ff8>​</a></h3><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>在Vue中，<code data-v-e8439ff8>ref</code>是一个用于<code data-v-e8439ff8>创建响应式数据</code>的函数。它接收一个参数，即需要创建引用的值，并返回一个响应式对象。</p></div><h4 id="_2-1-1、锚点" tabindex="-1" data-v-e8439ff8>2.1.1、锚点 <a class="header-anchor" href="#_2-1-1、锚点" aria-label="Permalink to &quot;2.1.1、锚点&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>ref</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ref1</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>ref</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> ref1 </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>ref</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><h4 id="_2-1-2、自定义ref" tabindex="-1" data-v-e8439ff8>2.1.2、自定义ref <a class="header-anchor" href="#_2-1-2、自定义ref" aria-label="Permalink to &quot;2.1.2、自定义ref&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import { customRef } from &#39;vue&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>function MyRef</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>T</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>(value: T) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return customRef((track, trigger) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      get() {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        // 追踪value</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        track();</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        return value;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      set(newValue: T) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        value = newValue;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        // 触发更新</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        trigger();</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  });</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span></code></pre></div><p data-v-e8439ff8>使用</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>let keyWord = MyRef</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>string</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>(&quot;1111&quot;);</span></span></code></pre></div><h2 id="_3、插槽slot" tabindex="-1" data-v-e8439ff8>3、插槽Slot <a class="header-anchor" href="#_3、插槽slot" aria-label="Permalink to &quot;3、插槽Slot&quot;" data-v-e8439ff8>​</a></h2><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>插槽（Slot）是一种用于在<code data-v-e8439ff8>父组件中插入子组件内容</code>的机制。通过插槽，您可以定义一些占位符，在父组件中填充具体的内容，以实现动态组件的复用和定制</p></div><h3 id="_3-1、默认插槽" tabindex="-1" data-v-e8439ff8>3.1、默认插槽 <a class="header-anchor" href="#_3-1、默认插槽" aria-label="Permalink to &quot;3.1、默认插槽&quot;" data-v-e8439ff8>​</a></h3><p data-v-e8439ff8>父组件</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>ChildComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>p</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>这是插槽内容</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>p</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#FFCB6B;" data-v-e8439ff8>ChildComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>子组件</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><h3 id="_3-2、具名插槽" tabindex="-1" data-v-e8439ff8>3.2、具名插槽 <a class="header-anchor" href="#_3-2、具名插槽" aria-label="Permalink to &quot;3.2、具名插槽&quot;" data-v-e8439ff8>​</a></h3><p data-v-e8439ff8>父组件</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>ChildComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-slot</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>header</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>h3</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>这是头部插槽</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>h3</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8> #content&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    &lt;p&gt;这是内容插槽&lt;/p&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  &lt;/template</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/ChildComponent&gt;</span></span></code></pre></div><p data-v-e8439ff8>子组件</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>p</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>下面是两个具名插槽：</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>p</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>header</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>content</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><h3 id="_3-3、作用域插槽" tabindex="-1" data-v-e8439ff8>3.3、作用域插槽 <a class="header-anchor" href="#_3-3、作用域插槽" aria-label="Permalink to &quot;3.3、作用域插槽&quot;" data-v-e8439ff8>​</a></h3><p data-v-e8439ff8>父组件</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>ChildComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-slot</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>header</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>{user}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>h3</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>这是头部插槽</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>h3</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  或者</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8> #header=&quot;{user}&quot;&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    &lt;h3&gt;这是头部插槽&lt;/h3&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  &lt;/template&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/ChildComponent&gt;</span></span></code></pre></div><p data-v-e8439ff8>子组件</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>p</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>下面是两个具名插槽：</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>p</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>slot</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>header</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> :user=&quot;item&quot;&gt;&lt;/slot&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  &lt;/div&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/template&gt;</span></span></code></pre></div><h2 id="_4、组件" tabindex="-1" data-v-e8439ff8>4、组件 <a class="header-anchor" href="#_4、组件" aria-label="Permalink to &quot;4、组件&quot;" data-v-e8439ff8>​</a></h2><h3 id="_4-1、render渲染函数" tabindex="-1" data-v-e8439ff8>4.1、render渲染函数 <a class="header-anchor" href="#_4-1、render渲染函数" aria-label="Permalink to &quot;4.1、render渲染函数&quot;" data-v-e8439ff8>​</a></h3><h4 id="_4-1-1、组件渲染" tabindex="-1" data-v-e8439ff8>4.1.1、组件渲染 <a class="header-anchor" href="#_4-1-1、组件渲染" aria-label="Permalink to &quot;4.1.1、组件渲染&quot;" data-v-e8439ff8>​</a></h4><p data-v-e8439ff8>sfc组件</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>defineComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>defineComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>MyComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      message</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>Hello, world!</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>};</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>render</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> [</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>h1</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>this.</span><span style="color:#A6ACCD;" data-v-e8439ff8>message</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    ])</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>也可以直接定义</p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> ref</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> h </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> from &#39;vue&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const MyComponent2 = </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>render</span><span style="color:#A6ACCD;" data-v-e8439ff8>() </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return </span><span style="color:#F07178;" data-v-e8439ff8>h</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>[</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>h</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>h1</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F07178;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F07178;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F07178;" data-v-e8439ff8>marginBottom</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>20px</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>Hello, world!</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>])</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,45),ua=f(`<h4 id="_4-1-2、事件处理" tabindex="-1" data-v-e8439ff8>4.1.2、事件处理 <a class="header-anchor" href="#_4-1-2、事件处理" aria-label="Permalink to &quot;4.1.2、事件处理&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>defineComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>defineComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>MyComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      message</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>Hello, world!</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>};</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>render</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> [</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>h1</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>this.</span><span style="color:#A6ACCD;" data-v-e8439ff8>message</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>button</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        style</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          border</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1px solid skyblue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          padding</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>5px 20px</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#82AAFF;" data-v-e8439ff8>onClick</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          </span><span style="color:#82AAFF;" data-v-e8439ff8>alert</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>---</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          </span><span style="color:#89DDFF;" data-v-e8439ff8>this.</span><span style="color:#A6ACCD;" data-v-e8439ff8>message</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>Hello, world!!!!</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>Click me</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    ])</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,3),ga=f(`<h4 id="_4-1-3、slots" tabindex="-1" data-v-e8439ff8>4.1.3、slots <a class="header-anchor" href="#_4-1-3、slots" aria-label="Permalink to &quot;4.1.3、slots&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>MyComponent3</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &lt;span&gt;default&lt;/span&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>MyComponent3</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> ref</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> h </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> from &#39;vue&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const MyComponent3 = </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#82AAFF;" data-v-e8439ff8>render</span><span style="color:#A6ACCD;" data-v-e8439ff8>() </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return </span><span style="color:#F07178;" data-v-e8439ff8>h</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>[</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>h</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>[</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>this</span><span style="color:#A6ACCD;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>$slots</span><span style="color:#A6ACCD;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>]</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>])</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,4),ma=b(()=>l("span",null,"default",-1)),ha=f(`<h3 id="_4-2、函数组件" tabindex="-1" data-v-e8439ff8>4.2、函数组件 <a class="header-anchor" href="#_4-2、函数组件" aria-label="Permalink to &quot;4.2、函数组件&quot;" data-v-e8439ff8>​</a></h3><h4 id="_4-2-1、组件渲染" tabindex="-1" data-v-e8439ff8>4.2.1、组件渲染 <a class="header-anchor" href="#_4-2-1、组件渲染" aria-label="Permalink to &quot;4.2.1、组件渲染&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>function</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>Heading</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>props</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>attrs</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>slots</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>})</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>\`</span><span style="color:#C3E88D;" data-v-e8439ff8>h</span><span style="color:#89DDFF;" data-v-e8439ff8>\${</span><span style="color:#A6ACCD;" data-v-e8439ff8>props</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>}\`</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>attrs</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>slots</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// Heading.props = [&#39;level&#39;]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>Heading</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>props </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>type</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> String</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>default</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> Heading</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>1</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>你好</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>2</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>你好</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>3</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>你好</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>4</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>你好</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>5</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>你好</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>FunctionComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,5),ba=f(`<h4 id="_4-2-2、事件处理" tabindex="-1" data-v-e8439ff8>4.2.2、事件处理 <a class="header-anchor" href="#_4-2-2、事件处理" aria-label="Permalink to &quot;4.2.2、事件处理&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>function</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>Heading</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>props</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>attrs</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>slots</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>})</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>h</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>\`</span><span style="color:#C3E88D;" data-v-e8439ff8>h</span><span style="color:#89DDFF;" data-v-e8439ff8>\${</span><span style="color:#A6ACCD;" data-v-e8439ff8>props</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>}\`</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>...</span><span style="color:#A6ACCD;" data-v-e8439ff8>attrs</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#82AAFF;" data-v-e8439ff8>onClick</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>console</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>log</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>click</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>slots</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// Heading.props = [&#39;level&#39;]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>Heading</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>props </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>level</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>type</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> String</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>default</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> Heading</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,3),Ea=f(`<h3 id="_4-3、组件白名单" tabindex="-1" data-v-e8439ff8>4.3、组件白名单 <a class="header-anchor" href="#_4-3、组件白名单" aria-label="Permalink to &quot;4.3、组件白名单&quot;" data-v-e8439ff8>​</a></h3><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>Vue3中检测自定义元素发生在模版编译时，如果添加一些自定义元素或者忽略警告需要配置<code data-v-e8439ff8>isCustomElement</code>选项</p></div><h4 id="_4-3-1-vue-cli" tabindex="-1" data-v-e8439ff8>4.3.1 vue-cli <a class="header-anchor" href="#_4-3-1-vue-cli" aria-label="Permalink to &quot;4.3.1 vue-cli&quot;" data-v-e8439ff8>​</a></h4><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#FFCB6B;" data-v-e8439ff8>rules</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> [</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>test</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C3E88D;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#A6ACCD;" data-v-e8439ff8>\\.</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>$</span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>use</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue-loader</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>options</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#F07178;" data-v-e8439ff8>compilerOptions</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#82AAFF;" data-v-e8439ff8>isCustomElement</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>tag</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> tag </span><span style="color:#89DDFF;" data-v-e8439ff8>===</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>my-component</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>]</span></span></code></pre></div><h4 id="_4-3-2-vite" tabindex="-1" data-v-e8439ff8>4.3.2 vite <a class="header-anchor" href="#_4-3-2-vite" aria-label="Permalink to &quot;4.3.2 vite&quot;" data-v-e8439ff8>​</a></h4><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>在vite项目中配置<code data-v-e8439ff8>vueCompilerOptions</code>选项</p></div><p data-v-e8439ff8>修改<code data-v-e8439ff8>vite.config.js</code></p><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>module.exports</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>vueCompilerOptions</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#82AAFF;" data-v-e8439ff8>isCustomElement</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>tag</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> tag </span><span style="color:#89DDFF;" data-v-e8439ff8>===</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>my-component</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span></code></pre></div><h3 id="_4-4、异步组件" tabindex="-1" data-v-e8439ff8>4.4、异步组件 <a class="header-anchor" href="#_4-4、异步组件" aria-label="Permalink to &quot;4.4、异步组件&quot;" data-v-e8439ff8>​</a></h3><h4 id="_4-4-1、定义一个异步组件" tabindex="-1" data-v-e8439ff8>4.4.1、定义一个异步组件 <a class="header-anchor" href="#_4-4-1、定义一个异步组件" aria-label="Permalink to &quot;4.4.1、定义一个异步组件&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import { defineAsyncComponent } from &#39;vue&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const asyncPage = defineAsyncComponent(() =&gt; import(&#39;./async.vue&#39;))</span></span></code></pre></div><h4 id="_4-4-2、带配置的异步组件" tabindex="-1" data-v-e8439ff8>4.4.2、带配置的异步组件 <a class="header-anchor" href="#_4-4-2、带配置的异步组件" aria-label="Permalink to &quot;4.4.2、带配置的异步组件&quot;" data-v-e8439ff8>​</a></h4><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import ErrorComponent from &#39;./ErrorComponent.vue&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>import LoadingComponent from &#39;./LoadingComponent.vue&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const asyncPageWithOptions = defineAsyncComponent({</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  loader: () =&gt; import(&#39;./async.vue&#39;),</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  delay: 100,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  timeout: 200,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  errorComponent: ErrorComponent,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  loadingComponent: LoadingComponent</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>})</span></span></code></pre></div><h2 id="_5、示例" tabindex="-1" data-v-e8439ff8>5、示例 <a class="header-anchor" href="#_5、示例" aria-label="Permalink to &quot;5、示例&quot;" data-v-e8439ff8>​</a></h2><h3 id="_5-1、自定义渲染器" tabindex="-1" data-v-e8439ff8>5.1、自定义渲染器 <a class="header-anchor" href="#_5-1、自定义渲染器" aria-label="Permalink to &quot;5.1、自定义渲染器&quot;" data-v-e8439ff8>​</a></h3><div class="tip custom-block" data-v-e8439ff8><p class="custom-block-title" data-v-e8439ff8>TIP</p><p data-v-e8439ff8>Vue3中支持自定义渲染器，可以自定义组件的渲染</p></div><p data-v-e8439ff8>该例子是将数据渲染到canvas上</p><div class="language-html" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>html</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// index.html</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>body</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>id</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>demo</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> /&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>body</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// CanvasApp.vue</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>piechart</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>@click</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>handleClick</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>:data</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>state.data</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>:x</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>200</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>:y</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>200</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>:r</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>200</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>piechart</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>reactive</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>CanvasApp</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>setup</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>state</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>reactive</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      data</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> [</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>大专</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> count</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>200</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>brown</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>本科</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> count</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>100</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>blue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>硕士</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> count</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>50</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>green</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>博士</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> count</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>30</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      ]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>handleClick</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>state</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>push</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        name</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>高中</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> count</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>30</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>orange</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>state</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>handleClick</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><div class="language-js" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>js</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// main.js</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>createApp</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>createRenderer</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> nodeOps </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 处理元素创建</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>createElement</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>tag</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>children</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#A6ACCD;" data-v-e8439ff8>tag</span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 处理元素插入</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>insert</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>child</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>parent</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>anchor</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 1、如果是子元素，不是真实dom,只需将子元素插入到父元素中</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>parent</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>parent</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>if</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#89DDFF;" data-v-e8439ff8>!</span><span style="color:#A6ACCD;" data-v-e8439ff8>parent</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>childs</span><span style="color:#F07178;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>parent</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>childs</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> [</span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#F07178;" data-v-e8439ff8>]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>else</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>parent</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>childs</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>push</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 2、如果是真实dom，需要进行绘制</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>if</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#A6ACCD;" data-v-e8439ff8>parent</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>nodeType</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>===</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>1</span><span style="color:#F07178;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#82AAFF;" data-v-e8439ff8>draw</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>      </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 事件处理</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>if</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>onClick</span><span style="color:#F07178;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>addEventListener</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>click</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          </span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>onClick</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          </span><span style="color:#82AAFF;" data-v-e8439ff8>setTimeout</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>            </span><span style="color:#82AAFF;" data-v-e8439ff8>draw</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>          </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>remove</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>createText</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>setText</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>setElementText</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>parentNode</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>nextSibling</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>querySelector</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>selector</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>setCopeIn</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>cloneNode</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>insertStateContent</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>  </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 属性更新</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>patchProps</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>key</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>preValue</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>nextValue</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#F07178;" data-v-e8439ff8>[</span><span style="color:#A6ACCD;" data-v-e8439ff8>key</span><span style="color:#F07178;" data-v-e8439ff8>] </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>nextValue</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>},</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 绘制</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> draw </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>noClear</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>if</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#89DDFF;" data-v-e8439ff8>!</span><span style="color:#A6ACCD;" data-v-e8439ff8>noClear</span><span style="color:#F07178;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>clearRect</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>width</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>height</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>if</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>tag</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>===</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>piechart</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>total</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>reduce</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>a</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>b</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>a</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>b</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>end</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>data</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>forEach</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>item</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>index</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>end</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>item</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>count</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>total</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>*</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>360</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#82AAFF;" data-v-e8439ff8>drawPieChart</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>end</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>item</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#82AAFF;" data-v-e8439ff8>drawPieChartText</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>item</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>name</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>end</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#F78C6C;" data-v-e8439ff8>2</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>end</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>childs</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&amp;&amp;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>childs</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>forEach</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>child</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#82AAFF;" data-v-e8439ff8>draw</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>child</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FF9CAC;" data-v-e8439ff8>true</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> d2a </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>n</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>n</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>*</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>Math</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>PI</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>180</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> drawPieChart </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>start</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>end</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>cx</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>cy</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>r</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cx</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>Math</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>cos</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#82AAFF;" data-v-e8439ff8>d2a</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#F07178;" data-v-e8439ff8>)) </span><span style="color:#89DDFF;" data-v-e8439ff8>*</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cy</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>Math</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>sin</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#82AAFF;" data-v-e8439ff8>d2a</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#F07178;" data-v-e8439ff8>)) </span><span style="color:#89DDFF;" data-v-e8439ff8>*</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>beginPath</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>moveTo</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>cx</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cy</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>lineTo</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>arc</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>cx</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cy</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>d2a</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>start</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>d2a</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>end</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FF9CAC;" data-v-e8439ff8>false</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>fillStyle</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>color</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>fill</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>stroke</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>closePath</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> drawPieChartText </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>position</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>cx</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>cy</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>r</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>beginPath</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cx</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>Math</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>cos</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#82AAFF;" data-v-e8439ff8>d2a</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>position</span><span style="color:#F07178;" data-v-e8439ff8>)) </span><span style="color:#89DDFF;" data-v-e8439ff8>*</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#F78C6C;" data-v-e8439ff8>1.25</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>-</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>20</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cy</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>+</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>Math</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>sin</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#82AAFF;" data-v-e8439ff8>d2a</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>position</span><span style="color:#F07178;" data-v-e8439ff8>)) </span><span style="color:#89DDFF;" data-v-e8439ff8>*</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>r</span><span style="color:#89DDFF;" data-v-e8439ff8>/</span><span style="color:#F78C6C;" data-v-e8439ff8>1.25</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>fillstyle</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>#000</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>font</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>20px 微软雅黑</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>fillText</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>text</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>x</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>y</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>closePath</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> renderer </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createRenderer</span><span style="color:#A6ACCD;" data-v-e8439ff8>(nodeOps)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#A6ACCD;" data-v-e8439ff8> ctx</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>function</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createCanvasApp</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>App</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>renderer</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>createApp</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>App</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>mount</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>mount</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>mount</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>function</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>selector</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 创建canvas并插入画布</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>document</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>createElement</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>ctx</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>getContext</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>2d</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 设置画布的宽高</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>width</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>600</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>height</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>600</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>document</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>querySelector</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>selector</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>appendChild</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>    </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// 执行挂载</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#82AAFF;" data-v-e8439ff8>mount</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>canvas</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#82AAFF;" data-v-e8439ff8>createCanvasApp</span><span style="color:#A6ACCD;" data-v-e8439ff8>(CanvasApp)</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>mount</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>#demo</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span></code></pre></div><h3 id="_5-2、自定义reactive" tabindex="-1" data-v-e8439ff8>5.2、自定义reactive <a class="header-anchor" href="#_5-2、自定义reactive" aria-label="Permalink to &quot;5.2、自定义reactive&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myReactive = </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>T</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>extends</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>object</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>(obj: T) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return new Proxy(obj, {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    get(target, key, receiver) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return Reflect.get(target, key, receiver)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    set(target, key, value, receiver) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return Reflect.set(target, key, value, receiver)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span></code></pre></div><h3 id="_5-3、自定义effect" tabindex="-1" data-v-e8439ff8>5.3、自定义effect <a class="header-anchor" href="#_5-3、自定义effect" aria-label="Permalink to &quot;5.3、自定义effect&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>{{ effectValue }}</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>border</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1px solid skyblue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>@</span><span style="color:#C792EA;" data-v-e8439ff8>click</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8>changeName</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>改变name</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myReactive = </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>T</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>extends</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>object</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>(obj: T) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return new Proxy(obj, {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    get(target, key, receiver) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      track(target, key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return Reflect.get(target, key, receiver)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    set(target, key, value, receiver) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const res = Reflect.set(target, key, value, receiver)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      trigger(target, key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return res</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>let activeEffect; </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myEffect = (fn: Function) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  const _effect = () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    activeEffect = _effect</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    fn()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  _effect()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 收集依赖</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const targetMap = new WeakMap()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const track = (target, key) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let depsMap = targetMap.get(target)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!depsMap) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    depsMap = new Map()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    targetMap.set(target, depsMap)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let dep = depsMap.get(key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!dep) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    dep = new Set()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    depsMap.set(key, dep)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  dep.add(activeEffect)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 触发依赖更新</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const trigger = (target, key) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let depsMap = targetMap.get(target)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!depsMap) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let dep = depsMap.get(key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!dep) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  dep.forEach(effect =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    effect()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const effectValue = ref()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myObj = myReactive({</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  name: &#39;zw&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  age: 18</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>})</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>myEffect(() =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  effectValue.value = myObj.name + myObj.age</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>})</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const changeName = () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  myObj.name = &#39;min&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span></code></pre></div><p data-v-e8439ff8>示例:</p>`,25),qa=f(`<h3 id="_5-4、自定义computed" tabindex="-1" data-v-e8439ff8>5.4、自定义computed <a class="header-anchor" href="#_5-4、自定义computed" aria-label="Permalink to &quot;5.4、自定义computed&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>{{ computedValue.value }}</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>red</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>border</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>1px solid skyblue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>@</span><span style="color:#C792EA;" data-v-e8439ff8>click</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8>changeName</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>改变name</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myReactive = </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>T</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>extends</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>object</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>(obj: T) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return new Proxy(obj, {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    get(target, key, receiver) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const res = Reflect.get(target, key, receiver) as object</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      track(target, key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      if (res != null &amp;&amp; typeof res == &#39;object&#39;) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        return myReactive(res)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return res</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    set(target, key, value, receiver) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const res = Reflect.set(target, key, value, receiver)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      trigger(target, key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return res</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>interface Options {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>   scheduler?: Function</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>let activeEffect; </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myEffect = (fn: Function, options:Options) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  const _effect = () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    activeEffect = _effect</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    const res = fn()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return res</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  _effect.options = options</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  _effect()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return _effect</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 收集依赖</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const targetMap = new WeakMap()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const track = (target, key) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let depsMap = targetMap.get(target)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!depsMap) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    depsMap = new Map()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    targetMap.set(target, depsMap)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let dep = depsMap.get(key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!dep) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    dep = new Set()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    depsMap.set(key, dep)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  dep.add(activeEffect)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 触发依赖更新</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const trigger = (target, key) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let depsMap = targetMap.get(target)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!depsMap) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let dep = depsMap.get(key)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!dep) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    return</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  dep.forEach(effect =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    if (effect.options &amp;&amp; effect.options.scheduler) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      effect.options.scheduler()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    } else {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      effect()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myComputed = (getter: Function) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let _value = myEffect(getter, {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    scheduler: () =&gt; { _dirty = true }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let catchValue</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  let _dirty = true</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  class ComputedRefImpl {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    get value() {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      if (_dirty) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        catchValue = _value()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        _dirty = false</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return catchValue</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return new ComputedRefImpl()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const effectValue = ref()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const myObj = myReactive({</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  name: &#39;zw&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  age: 18</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>})</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>myEffect(() =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  effectValue.value = myObj.name + myObj.age</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  // console.log(myObj.name, myObj.age)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>})</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const changeName = () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  myObj.name = &#39;min&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  // console.log(&#39;--------&#39;,myObj.name)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const computedValue = myComputed(() =&gt; myObj.name + myObj.age)</span></span></code></pre></div><p data-v-e8439ff8>示例:</p>`,3),ka=f(`<h3 id="_5-5、自定义event-bus" tabindex="-1" data-v-e8439ff8>5.5、自定义Event Bus <a class="header-anchor" href="#_5-5、自定义event-bus" aria-label="Permalink to &quot;5.5、自定义Event Bus&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>type BusClass</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>T</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> = {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    emit: (name: T) =&gt; void</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    on: (name: T, callback: Function) =&gt; void</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>type BusParams = string | number | symbol </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>type List = {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    [key: BusParams]: Array&lt;Function&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>class Bus&lt;T extends BusParams&gt; implements BusClass&lt;T&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    list: List</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    constructor() {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        this.list = {}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    emit(name: T, ...args: Array&lt;any&gt;) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        let eventName: Array&lt;Function&gt; = this.list[name]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        eventName.forEach(ev =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>            ev.apply(this, args)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    on(name: T, callback: Function) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        let fn: Array&lt;Function&gt; = this.list[name] || [];</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        fn.push(callback)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        this.list[name] = fn</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>export default new Bus&lt;number&gt;()</span></span></code></pre></div><h3 id="_5-6、拖拽-指令示例" tabindex="-1" data-v-e8439ff8>5.6、拖拽(指令示例) <a class="header-anchor" href="#_5-6、拖拽-指令示例" aria-label="Permalink to &quot;5.6、拖拽(指令示例)&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>class</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>drag</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &lt;div v-move class=&quot;box&quot;&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    &lt;div class=&quot;header&quot;&gt;</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>内容</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vMove: Directive = {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  mounted(el: HTMLElement) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    // header</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    const moveEl = el.firstElementChild as HTMLElement</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    const mouseDown = (e: MouseEvent) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      //鼠标点击物体那一刻相对于物体左侧边框的距离=点击时的位置相对于浏览器最左边的距离-物体左边框相对于浏览器最左边的距离</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const x = e.clientX - el.offsetLeft</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const y = e.clientY - el.offsetTop</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      // 监听拖拽事件</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const mouseMove = (e: MouseEvent) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        el.style.left = e.clientX - x + &#39;px&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        el.style.top = e.clientY - y + &#39;px&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>     </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      document.addEventListener(&quot;mousemove&quot;, mouseMove)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      document.addEventListener(&quot;mouseup&quot;, () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        document.removeEventListener(&quot;mousemove&quot;, mouseMove)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    // 监听鼠标按下</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    moveEl.addEventListener(&quot;mousedown&quot;, mouseDown)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  },</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,5),_a={class:"drag"},xa={class:"box"},Ba=b(()=>l("div",{class:"header"},null,-1)),wa=b(()=>l("div",null,"内容",-1)),Ma=[Ba,wa],Pa=f(`<h3 id="_5-7、按钮权限控制-自定义指令" tabindex="-1" data-v-e8439ff8>5.7、按钮权限控制(自定义指令) <a class="header-anchor" href="#_5-7、按钮权限控制-自定义指令" aria-label="Permalink to &quot;5.7、按钮权限控制(自定义指令)&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-has-show</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>shop:create1</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>创建</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-has-show</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>shop:edit</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>编辑</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-has-show</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>shop:delete</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>删除</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>button</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 按钮权限</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const permission = [</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &#39;zw:shop:edit&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &#39;zw:shop:create&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &#39;zw:shop:delete&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vHasShow: Directive</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>HTMLElement</span><span style="color:#C792EA;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>string</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> = (el, bingding) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  if (!permission.includes(\`zw:\${bingding.value}\`)) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    el.style.display = &#39;none&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span></code></pre></div>`,2),ja=f(`<h3 id="_5-8、图片懒加载-自定义指令" tabindex="-1" data-v-e8439ff8>5.8、图片懒加载(自定义指令) <a class="header-anchor" href="#_5-8、图片懒加载-自定义指令" aria-label="Permalink to &quot;5.8、图片懒加载(自定义指令)&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#C792EA;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>width</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>100%</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>height</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>400px</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>overflow</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>auto</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &lt;div v-for=&quot;item in arr&quot;&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    &lt;img height=&quot;400&quot; :data-index=&quot;item&quot; v-lazy=&quot;item&quot; width=&quot;360&quot; alt=&quot;&quot;&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 图片懒加载</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const arr = [</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &#39;https://images.unsplash.com/photo-1682685797507-d44d838b0ac7?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1470&amp;q=80&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &#39;https://images.unsplash.com/photo-1691951171253-128bde131aaa?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1472&amp;q=80&#39;,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  &#39;https://plus.unsplash.com/premium_photo-1674582279349-901af56ed59b?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1379&amp;q=80&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>]</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const vLazy: Directive&lt;HTMLElement, string&gt; = async(el,bingding) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  const url = await import(&#39;/public/logo.png&#39;)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  el.src = url.default</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  const observer = new IntersectionObserver(entries =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    if (entries[0].intersectionRatio &gt; 0 &amp;&amp; entries[0].isIntersecting) {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      setTimeout(() =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        el.src = bingding.value</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        observer.unobserve(el)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      }, 2000)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  observer.observe(el)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span></code></pre></div><p data-v-e8439ff8>示例：</p>`,3),Va={style:{width:"100%",height:"400px",overflow:"auto"}},Ha=["data-index"],Ta=f(`<h3 id="_5-9、自定义插件" tabindex="-1" data-v-e8439ff8>5.9、自定义插件 <a class="header-anchor" href="#_5-9、自定义插件" aria-label="Permalink to &quot;5.9、自定义插件&quot;" data-v-e8439ff8>​</a></h3><p data-v-e8439ff8><a href="https://xiaoman.blog.csdn.net/article/details/123300264" target="_blank" rel="noreferrer" data-v-e8439ff8>https://xiaoman.blog.csdn.net/article/details/123300264</a></p><p data-v-e8439ff8>Loading.vue</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>v-if</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>isShow</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>class</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>loading</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>class</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>loading-content</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>Loading...</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>ref</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> isShow </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>ref</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#FF9CAC;" data-v-e8439ff8>false</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>//定位loading 的开关</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> show </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>isShow</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>value</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FF9CAC;" data-v-e8439ff8>true</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> hide </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>isShow</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>value</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FF9CAC;" data-v-e8439ff8>false</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>//对外暴露 当前组件的属性和方法</span></span>
<span class="line" data-v-e8439ff8><span style="color:#82AAFF;" data-v-e8439ff8>defineExpose</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    isShow</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    show</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    hide</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>style</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>scoped</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>less</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#FFCB6B;" data-v-e8439ff8>loading</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#B2CCD6;" data-v-e8439ff8>position</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> fixed</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#B2CCD6;" data-v-e8439ff8>inset</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#B2CCD6;" data-v-e8439ff8>background</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>rgba</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0.8</span><span style="color:#89DDFF;" data-v-e8439ff8>);</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#B2CCD6;" data-v-e8439ff8>display</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> flex</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#B2CCD6;" data-v-e8439ff8>justify-content</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> center</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#B2CCD6;" data-v-e8439ff8>align-items</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> center</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&amp;</span><span style="color:#C792EA;" data-v-e8439ff8>-content</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#B2CCD6;" data-v-e8439ff8>font-size</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>30px</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#B2CCD6;" data-v-e8439ff8>color</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> #fff</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>Loading.ts</p><div class="language-ts" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>ts</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>createVNode</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>render</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>VNode</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>App</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> Loading </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>./index.vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>install</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>App</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>        </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>//createVNode vue提供的底层方法 可以给我们组件创建一个虚拟DOM 也就是Vnode</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>vnode</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>VNode</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createVNode</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>Loading</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>        </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>//render 把我们的Vnode 生成真实DOM 并且挂载到指定节点</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#82AAFF;" data-v-e8439ff8>render</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>vnode</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>document</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>body</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>        </span><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// Vue 提供的全局配置 可以自定义</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>config</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>globalProperties</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>$loading</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>            </span><span style="color:#82AAFF;" data-v-e8439ff8>show</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>vnode</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>component</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#A6ACCD;" data-v-e8439ff8>exposed</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#82AAFF;" data-v-e8439ff8>show</span><span style="color:#F07178;" data-v-e8439ff8>()</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>            </span><span style="color:#82AAFF;" data-v-e8439ff8>hide</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>vnode</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>component</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#A6ACCD;" data-v-e8439ff8>exposed</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#82AAFF;" data-v-e8439ff8>hide</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span></code></pre></div><p data-v-e8439ff8>main.ts</p><div class="language-ts" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>ts</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> Loading </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>./components/loading</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#A6ACCD;" data-v-e8439ff8> app </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>createApp</span><span style="color:#A6ACCD;" data-v-e8439ff8>(App)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>use</span><span style="color:#A6ACCD;" data-v-e8439ff8>(Loading)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>type</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>Lod</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>show</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>void</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>hide</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>void</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>//编写ts loading 声明文件放置报错 和 智能提示</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>declare</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>module</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>@vue/runtime-core</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>interface</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>ComponentCustomProperties</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        $loading</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>Lod</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>mount</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>#app</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span></code></pre></div><p data-v-e8439ff8>使用：</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>ref</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8>reactive</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8>getCurrentInstance</span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8>  instance </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>getCurrentInstance</span><span style="color:#A6ACCD;" data-v-e8439ff8>()  </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>instance</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#A6ACCD;" data-v-e8439ff8>proxy</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#A6ACCD;" data-v-e8439ff8>$Loading</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>show</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#82AAFF;" data-v-e8439ff8>setTimeout</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>()</span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>  </span><span style="color:#A6ACCD;" data-v-e8439ff8>instance</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#A6ACCD;" data-v-e8439ff8>proxy</span><span style="color:#89DDFF;" data-v-e8439ff8>?.</span><span style="color:#A6ACCD;" data-v-e8439ff8>$Loading</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>hide</span><span style="color:#F07178;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>},</span><span style="color:#F78C6C;" data-v-e8439ff8>5000</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>// console.log(instance)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#FFCB6B;" data-v-e8439ff8>*</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#B2CCD6;" data-v-e8439ff8>padding</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#B2CCD6;" data-v-e8439ff8>margin</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#F78C6C;" data-v-e8439ff8>0</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>style</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><h3 id="_5-10、自定义vue-use" tabindex="-1" data-v-e8439ff8>5.10、自定义Vue use <a class="header-anchor" href="#_5-10、自定义vue-use" aria-label="Permalink to &quot;5.10、自定义Vue use&quot;" data-v-e8439ff8>​</a></h3><div class="language-ts" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>ts</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>type</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>App</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>./main</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>interface</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>Use</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#F07178;" data-v-e8439ff8>install</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>App</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>...</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>options</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>any</span><span style="color:#A6ACCD;" data-v-e8439ff8>[]</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>void</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> installedList </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>new</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>Set</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>function</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>MyUse</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#FFCB6B;" data-v-e8439ff8>T</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>extends</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>Use</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>plugin</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>T</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>...</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>options</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>any</span><span style="color:#A6ACCD;" data-v-e8439ff8>[]</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>if</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>installedList</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>has</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>plugin</span><span style="color:#F07178;" data-v-e8439ff8>))</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>      </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>return</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>console</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>warn</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>重复添加插件</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8>plugin</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>else</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>plugin</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>install</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>...</span><span style="color:#A6ACCD;" data-v-e8439ff8>options</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>installedList</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>add</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>plugin</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span></code></pre></div><h3 id="_5-11、图片下载-自定义hook" tabindex="-1" data-v-e8439ff8>5.11、图片下载(自定义hook) <a class="header-anchor" href="#_5-11、图片下载-自定义hook" aria-label="Permalink to &quot;5.11、图片下载(自定义hook)&quot;" data-v-e8439ff8>​</a></h3><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>img</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>class</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>imgHook</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>src</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8>/public/logo.png</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>alt</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 图片下载hook</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>type ImgOptions = {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  el: string</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>type Return = {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  BaseUrl: string | null</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>const imgBase64Hook = (option: ImgOptions): Promise&lt;Return&gt; =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  return new Promise((resolve, reject) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    onMounted(() =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const file: HTMLImageElement = document.querySelector(option.el) as HTMLImageElement</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      file.onload = () =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        resolve({</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>          BaseUrl: toBase64(file)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    const toBase64 = (el: HTMLImageElement): string =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const canvas: HTMLCanvasElement = document.createElement(&#39;canvas&#39;)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      const ctx = canvas.getContext(&#39;2d&#39;) as CanvasRenderingContext2D</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      canvas.width = el.width</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      canvas.height = el.height</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      ctx.drawImage(el, 0, 0, canvas.width,canvas.height)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      return canvas.toDataURL(&#39;image/png&#39;)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    }</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  })</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>// 使用</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>imgBase64Hook({</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  el: &#39;.imgHook&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>}).then((res) =&gt; {</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  console.log(res)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>})</span></span></code></pre></div><p data-v-e8439ff8>示例： <img class="imgHook" src="`+T+`" alt="" data-v-e8439ff8></p><h3 id="_5-12、监听元素变化-自定义hook-指令" tabindex="-1" data-v-e8439ff8>5.12、监听元素变化(自定义hook+指令) <a class="header-anchor" href="#_5-12、监听元素变化-自定义hook-指令" aria-label="Permalink to &quot;5.12、监听元素变化(自定义hook+指令)&quot;" data-v-e8439ff8>​</a></h3><div class="language-ts" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>ts</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>App</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>defineComponent</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>onMounted</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>function</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>useResize</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>HTMLElement</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>callback</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>cr</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>DOMRectReadOnly</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>resize</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#FFCB6B;" data-v-e8439ff8>ResizeObserver</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>void</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>resize</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>ResizeObserver</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>resize</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>new</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>ResizeObserver</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>entries</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>            </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>for</span><span style="color:#F07178;" data-v-e8439ff8> (</span><span style="color:#C792EA;" data-v-e8439ff8>let</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>entry</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>of</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>entries</span><span style="color:#F07178;" data-v-e8439ff8>) </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>                </span><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>cr</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>entry</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>contentRect</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>                </span><span style="color:#82AAFF;" data-v-e8439ff8>callback</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>cr</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8>resize</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>            </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span><span style="color:#89DDFF;" data-v-e8439ff8>;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#A6ACCD;" data-v-e8439ff8>resize</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>observe</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> install </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#FFCB6B;" data-v-e8439ff8>App</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#A6ACCD;" data-v-e8439ff8>app</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>directive</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>resize</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        mounted</span><span style="color:#89DDFF;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>binding</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>            </span><span style="color:#82AAFF;" data-v-e8439ff8>useResize</span><span style="color:#F07178;" data-v-e8439ff8>(</span><span style="color:#A6ACCD;" data-v-e8439ff8>el</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>binding</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>value</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#F07178;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#F07178;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>useResize</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#A6ACCD;" data-v-e8439ff8>install </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> install</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>export</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>default</span><span style="color:#A6ACCD;" data-v-e8439ff8> useResize</span></span></code></pre></div><h2 id="_6、自定义元素-definecustomelement" tabindex="-1" data-v-e8439ff8>6、自定义元素(defineCustomElement) <a class="header-anchor" href="#_6、自定义元素-definecustomelement" aria-label="Permalink to &quot;6、自定义元素(defineCustomElement)&quot;" data-v-e8439ff8>​</a></h2><p data-v-e8439ff8>告知vue这是一个自定义Component 跳过组件检查</p><div class="language-ts" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>ts</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>/*vite config ts 配置*/</span></span>
<span class="line" data-v-e8439ff8><span style="color:#82AAFF;" data-v-e8439ff8>vue</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>   </span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>:{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>     </span><span style="color:#F07178;" data-v-e8439ff8>compilerOptions</span><span style="color:#89DDFF;" data-v-e8439ff8>:{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>         </span><span style="color:#82AAFF;" data-v-e8439ff8>isCustomElement</span><span style="color:#89DDFF;" data-v-e8439ff8>:(</span><span style="color:#A6ACCD;font-style:italic;" data-v-e8439ff8>tag</span><span style="color:#89DDFF;" data-v-e8439ff8>)</span><span style="color:#C792EA;" data-v-e8439ff8>=&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8> tag</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>includes</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>my-</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>      </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span></code></pre></div><p data-v-e8439ff8>父组件</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>        </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>my-btn</span><span style="color:#89DDFF;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>:title</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#C3E88D;" data-v-e8439ff8> JSON.stringify(name) </span><span style="color:#89DDFF;" data-v-e8439ff8>&quot;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>my-btn</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>ref</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>reactive</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>defineCustomElement</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#676E95;font-style:italic;" data-v-e8439ff8>//自定义元素模式  要开启这个模式，只需要将你的组件文件以 .ce.vue 结尾即可</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> customVueVue </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>./components/custom-vue.ce.vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> Btn </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>defineCustomElement</span><span style="color:#A6ACCD;" data-v-e8439ff8>(customVueVue)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>customElements</span><span style="color:#89DDFF;" data-v-e8439ff8>.</span><span style="color:#82AAFF;" data-v-e8439ff8>define</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>my-btn</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#A6ACCD;" data-v-e8439ff8> Btn)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#C792EA;" data-v-e8439ff8>const</span><span style="color:#A6ACCD;" data-v-e8439ff8> name </span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#82AAFF;" data-v-e8439ff8>ref</span><span style="color:#A6ACCD;" data-v-e8439ff8>(</span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8>a</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#F78C6C;" data-v-e8439ff8>1</span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8>)</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div><p data-v-e8439ff8>子组件</p><div class="language-vue" data-v-e8439ff8><button title="Copy Code" class="copy" data-v-e8439ff8></button><span class="lang" data-v-e8439ff8>vue</span><pre class="shiki material-theme-palenight" data-v-e8439ff8><code data-v-e8439ff8><span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    hello {{title}}</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>  </span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>div</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>template</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8> </span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>setup</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#C792EA;" data-v-e8439ff8>lang</span><span style="color:#89DDFF;" data-v-e8439ff8>=</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>ts</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>import</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>{</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>ref</span><span style="color:#89DDFF;" data-v-e8439ff8>,</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#A6ACCD;" data-v-e8439ff8>reactive</span><span style="color:#F07178;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>}</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;font-style:italic;" data-v-e8439ff8>from</span><span style="color:#A6ACCD;" data-v-e8439ff8> </span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span><span style="color:#C3E88D;" data-v-e8439ff8>vue</span><span style="color:#89DDFF;" data-v-e8439ff8>&#39;</span></span>
<span class="line" data-v-e8439ff8><span style="color:#82AAFF;" data-v-e8439ff8>defineProps</span><span style="color:#89DDFF;" data-v-e8439ff8>&lt;{</span></span>
<span class="line" data-v-e8439ff8><span style="color:#A6ACCD;" data-v-e8439ff8>    </span><span style="color:#F07178;" data-v-e8439ff8>title</span><span style="color:#89DDFF;" data-v-e8439ff8>:</span><span style="color:#FFCB6B;" data-v-e8439ff8>string</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>}&gt;</span><span style="color:#A6ACCD;" data-v-e8439ff8>()</span></span>
<span class="line" data-v-e8439ff8><span style="color:#89DDFF;" data-v-e8439ff8>&lt;/</span><span style="color:#F07178;" data-v-e8439ff8>script</span><span style="color:#89DDFF;" data-v-e8439ff8>&gt;</span></span></code></pre></div>`,24),La={directives:{bg1:{mounted(v){v.style.backgroundColor="blue"}}},setup(){}},Sa=JSON.parse('{"title":"Vue3高级知识","description":"","frontmatter":{},"headers":[],"relativePath":"f2e/vue/vue3/vue3高级知识.md","filePath":"f2e/vue/vue3/vue3高级知识.md","lastUpdated":1704191114000}'),Ra=H({...La,__name:"vue3高级知识",setup(v){(a=>new Promise((n,s)=>{sa(()=>{const t=document.querySelector(a.el);t.onload=()=>{n({BaseUrl:e(t)})}});const e=t=>{const o=document.createElement("canvas"),i=o.getContext("2d");return o.width=t.width,o.height=t.height,i.drawImage(t,0,0,o.width,o.height),o.toDataURL("image/png")}}))({el:".imgHook"}).then(a=>{console.log(a)});const g=["https://images.unsplash.com/photo-1682685797507-d44d838b0ac7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1691951171253-128bde131aaa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80","https://plus.unsplash.com/premium_photo-1674582279349-901af56ed59b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1379&q=80"],R=async(a,n)=>{const s=await ta(()=>Promise.resolve().then(()=>fa),void 0);a.src=s.default;const e=new IntersectionObserver(t=>{t[0].intersectionRatio>0&&t[0].isIntersecting&&setTimeout(()=>{a.src=n.value,e.unobserve(a)},2e3)});e.observe(a)},O=["zw:shop:edit","zw:shop:create","zw:shop:delete"],m=(a,n)=>{O.includes(`zw:${n.value}`)||(a.style.display="none")},S={mounted(a){const n=a.firstElementChild,s=e=>{const t=e.clientX-a.offsetLeft,o=e.clientY-a.offsetTop,i=P=>{a.style.left=P.clientX-t+"px",a.style.top=P.clientY-o+"px"};document.addEventListener("mousemove",i),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",i)})};n.addEventListener("mousedown",s)}},q=a=>new Proxy(a,{get(n,s,e){const t=Reflect.get(n,s,e);return I(n,s),t!=null&&typeof t=="object"?q(t):t},set(n,s,e,t){const o=Reflect.set(n,s,e,t);return z(n,s),o}});let k;const _=(a,n)=>{const s=()=>(k=s,a());return s.options=n,s(),s},h=new WeakMap,I=(a,n)=>{let s=h.get(a);s||(s=new Map,h.set(a,s));let e=s.get(n);e||(e=new Set,s.set(n,e)),e.add(k)},z=(a,n)=>{let s=h.get(a);if(!s)return;let e=s.get(n);e&&e.forEach(t=>{t.options&&t.options.scheduler?t.options.scheduler():t()})},N=a=>{let n=_(a,{scheduler:()=>{e=!0}}),s,e=!0;class t{get value(){return e&&(s=n(),e=!1),s}}return new t},x=j(),A=q({name:"zw",age:18});_(()=>{x.value=A.name+A.age});const B=()=>{A.name="min"},$=N(()=>A.name+A.age),U={render(){return r("div",[r("h1",{style:{color:"red",marginBottom:"20px"}},"Hello, world!")])}},G={render(){return r("div",[r("div",[this.$slots.default()])])}},w=j(""),W={mounted(a,{value:n,oldValue:s,arg:e,modifiers:t}){w.value=`value:${n} - oldValue:${s} - arg:${e} - modifiers:${JSON.stringify(t)}`}},Y={mounted(a,{value:n}){a.style.backgroundColor=n.bgColor,a.style.color=n.color}},K={mounted(a){a.style.backgroundColor="red"}},X=a=>a.toUpperCase(),M=()=>{alert("keyup.enter")};return(a,n)=>{const s=J("bg1");return y(),D("div",null,[oa,l("div",null,[d(l("input",da,null,512),[[s]])]),ca,l("div",null,[d(l("input",va,null,512),[[K]])]),ra,d(l("div",null,null,512),[[W,1,"params",{lazy:!0}]]),p(" "+u(w.value)+" ",1),ya,d((y(),D("div",null,[p("this is a v-color directive")])),[[Y,{bgColor:"red",color:"yellow"}]]),Da,l("div",null,u(X("hello")),1),Fa,l("p",null,[p("示例： "),l("input",{type:"text",onKeyup:V(M,["enter"]),style:{border:"1px solid skyblue"}},null,40,Ca),l("input",{type:"text",onKeyup:V(M,["enter"]),style:{border:"1px solid red",marginLeft:"10px"}},null,40,Aa)]),ia,c(U),ua,c(pa),ga,c(G,null,{default:F(()=>[ma]),_:1}),ha,c(C,{level:"1"},{default:F(()=>[p("你好")]),_:1}),c(C,{level:"2"},{default:F(()=>[p("你好")]),_:1}),c(C,{level:"3"},{default:F(()=>[p("你好")]),_:1}),c(C,{level:"4"},{default:F(()=>[p("你好")]),_:1}),c(C,{level:"5"},{default:F(()=>[p("你好")]),_:1}),ba,c(C,{style:{color:"red"},level:"1"},{default:F(()=>[p("你好")]),_:1}),Ea,l("div",null,u(x.value),1),l("button",{style:{color:"red",border:"1px solid skyblue"},onClick:B},"改变name"),qa,l("div",null,u(Q($).value),1),l("button",{style:{color:"red",border:"1px solid skyblue"},onClick:B},"改变name"),ka,l("div",_a,[d((y(),D("div",xa,Ma)),[[S]])]),Pa,l("p",null,[p("示例： "),d((y(),D("button",null,[p("创建")])),[[m,"shop:create1"]]),d((y(),D("button",null,[p("编辑")])),[[m,"shop:edit"]]),d((y(),D("button",null,[p("删除")])),[[m,"shop:delete"]])]),ja,l("div",Va,[(y(),D(Z,null,aa(g,e=>l("div",null,[d(l("img",{height:"400","data-index":e,width:"360",alt:""},null,8,Ha),[[R,e]])])),64))]),Ta])}}});const Ia=la(Ra,[["__scopeId","data-v-e8439ff8"]]);export{Sa as __pageData,Ia as default};
